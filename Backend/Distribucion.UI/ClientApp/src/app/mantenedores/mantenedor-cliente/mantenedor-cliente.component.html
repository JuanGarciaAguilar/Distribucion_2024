<div class="container">
  <h3 class="title">Clientes</h3>
  <div class="flex">
    <div class="col-md-12 border">
      <form [formGroup]="frm">
        <div class="cuadros-group">
          <input type="hidden" [(ngModel)]="cliente.clienteId" value="{{cliente.clienteId}}" [ngModelOptions]="{standalone: true}">

          <div class="input-group">
            <input [class]="txtClass" formControlName="cName" #cName autofocus [(ngModel)]="cliente.clienteName" value="{{cliente.clienteName}}" required onblur="checkInput(this)" type="text">
            <label>
              Nombre<span *ngIf="cliente.clienteName == null || cliente.clienteName == ''" class="alert-validation">*</span>
            </label>
          </div>

          <div class="input-group">
            <input [class]="txtClass" formControlName="cPhone" [(ngModel)]="cliente.clientePhone" value="{{cliente.clientePhone}}" onblur="checkInput(this)" type="tel" (keyup)="noLetrasPlus($event, cliente.clientePhone)">
            <label>
              Telefono
            </label>
          </div>

          <div class="input-group">
            <select [class]="txtClass" formControlName="cSector" class="form-control col-12" [(ngModel)]="cliente.sectorId" onblur="checkInput(this)">
              <option value="" disabled style="display:none"></option>
              <option *ngFor="let s of sector" value="{{s.sectorId}}">{{s.sectorName}}</option>
            </select>
            <label>
              Sector<span *ngIf="cliente.sectorId == null" class="alert-validation">*</span>
            </label>
          </div>

          <div class="input-group">
            <input [class]="txtClass" formControlName="cAddress" [(ngModel)]="cliente.clienteAddress" value="{{cliente.clienteAddress}}" onblur="checkInput(this)" type="text">
            <label>
              Direccion
            </label>
          </div>

        </div>

        <div class="alert alert-{{level}} alert-dismissible fade show" *ngIf="visible" role="alert">
          {{content}}
          <button type="button" (click)="ocultarMensaje()" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>

        <button type="submit" [disabled]="!frm.valid" (click)="ingresarCliente(); checkInput(cliente.clienteName); checkInput(cliente.clientePhone); checkInput(cliente.sectorId); checkInput(cliente.clienteAddress);">Registrar</button>
        <button type="submit" (click)="cancelar(); checkInput(cliente.clienteName); checkInput(cliente.clientePhone); checkInput(cliente.sectorId); checkInput(cliente.clienteAddress);">Cancelar</button>
      </form>
    </div>
  </div>

  <br />

  <div class="flex">
    <div class="search">
      <input class="input100" [(ngModel)]="searchString" name="searchString" placeholder="Buscar cliente" style="width:95%; padding: 10px" type="text" (keyup)="filter()" />
    </div>
  </div>

  <div class="col-md-12 border" style="margin-top: 2rem; padding: 0px">

    <kendo-grid [data]="clienteKendo"
                [pageable]="true"
                [pageSize]="state.take"
                [skip]="state.skip"
                [sortable]="true"
                [sort]="state.sort"
                (dataStateChange)="dataStateChange($event)">

      <kendo-grid-column field="clienteName" title="Nombre" width="200" [style]="{'text-align':'left'}"></kendo-grid-column>
      <kendo-grid-column field="clienteAddress" title="Direccion" width="220" [style]="{'text-align':'left'}"></kendo-grid-column>
      <kendo-grid-column field="clientePhone" title="Telefono" width="200"></kendo-grid-column>
      <kendo-grid-column title="" width="80">
        <ng-template kendoGridCellTemplate let-dataItem>
          <a tooltip title="Editar" class="btn btn-warning button-tree-view" (click)="Editar(dataItem.clienteId,dataItem.clienteName,dataItem.clienteAddress,dataItem.clientePhone,dataItem.sectorId);
                    checkInput(cliente.clienteName); checkInput(cliente.clientePhone); checkInput(cliente.sectorId); checkInput(cliente.clienteAddress);"><img src="https://cdn4.iconfinder.com/data/icons/markerstyle_icons/PNG/16px/pencil.png"></a>
        </ng-template>
      </kendo-grid-column>
    </kendo-grid>

  </div>
</div>


<div>
  <div class="sweet-overlay" tabindex="-1" style="opacity: 0; display: none;">
  </div>
  <div class="sweet-alert hideSweetAlert" tabindex="-1" data-has-cancel-button="false" data-allow-ouside-click="false" data-has-done-function="false" style="display: none; margin-top: -176px; opacity: -0.01;">
    <div class="icon error" style="display: block;">
      <span class="x-mark"><span class="line left"></span><span class="line right"></span></span>
    </div>
    <div class="icon warning" style="display: none;">
      <span class="body"></span> <span class="dot"></span>
    </div>
    <div class="icon info" style="display: none;">
    </div>
    <div class="icon success" style="display: none;">
      <span class="line tip"></span> <span class="line long"></span>
      <div class="placeholder">
      </div>
      <div class="fix"></div>
    </div>
    <div class="icon custom" style="display: none;"></div>
    <h2>Cancelled</h2>
    <p style="display: block;">Your imaginary file is safe :)</p>
    <button class="cancel" tabindex="-1" style="display: none; box-shadow: none;">Cancel</button>
    <button class="confirm" tabindex="-1" style="display: none; box-shadow: none;">OK</button>
    <button class="btn w-xs btn-info" tabindex="-1" style="display:none;  box-shadow: none;">Cerrar</button>
  </div>
</div>
