<div class="container">
  <h3 class="title">Productos</h3>
  <div class="border">
    <form [formGroup]="frm">
      <div>
        <div class="input-group" style="margin: 0px auto; width: 30%; padding: 2rem 0;">
          <input type="text" onblur="checkInput(this)" autofocus class="form-control col-12" [(ngModel)]="producto.productName" required #productN formControlName="productN">
          <label>Nombre de la Categoría</label>
          <button type="submit" (click)="AgregarCategoria();" [disabled]="!frm.valid">Registrar</button>
          <button type="submit" (click)="Cancelar(); checkInput(producto.productName)" [disabled]="!frm.valid">Cancelar</button>
        </div>
        <div class="alert alert-{{level}} alert-dismissible fade show" *ngIf="visible" role="alert">
          {{content}}
          <button type="button" (click)="ocultarMensaje()" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
      </div>
    </form>
  </div>

  <div class="col-md-12 border" style="margin-top: 2rem">


    <kendo-grid [data]="productoKendo"
                [pageSize]="pageSize"
                [skip]="skip"
                (pageChange)="pageChange($event)"
                [pageable]="true">

      <kendo-grid-column field="productName" title="Categoria" width="500">
      </kendo-grid-column>
      <kendo-grid-column title="" width="80">
        <ng-template kendoGridCellTemplate let-dataItem>
          <a tooltip title="Editar" class="btn btn-warning button-tree-view" (click)="Editar(dataItem.productId,dataItem.productName);checkInput(producto.productName);"><img src="https://cdn4.iconfinder.com/data/icons/markerstyle_icons/PNG/16px/pencil.png"></a>
        </ng-template>
      </kendo-grid-column>
      <kendo-grid-column title="" width="80">
        <ng-template kendoGridCellTemplate let-dataItem>
          <a tooltip title="Ver" class="btn btn-warning button-tree-view" (click)="goToDetalleProducto(dataItem)"><img src="https://cdn4.iconfinder.com/data/icons/markerstyle_icons/PNG/16px/pencil.png"></a>
        </ng-template>
      </kendo-grid-column>
      <kendo-grid-column title="" width="80">
        <ng-template kendoGridCellTemplate let-dataItem>
          <a tooltip title="Eliminar" name="elim" (click)="envioID(dataItem.productId,true); openModal('modal-eliminar');" data-target="#EliminarProducto">
            <i class="icon-delete"></i>
          </a>
        </ng-template>
      </kendo-grid-column>
    </kendo-grid>
  </div>
</div>

<!--MODAL ELIMINAR CATEGORIA-->
<div class="modal" id="modal-eliminar">
  <div class="cd-popup-container">
    <input type="hidden" #idProducto [(ngModel)]="idCateg" placeholder="Id producto" />
    <p>¿Desea eliminar esta categoría?</p>
    <ul class="cd-buttons">
      <li><a (click)="Eliminar(idProducto.value); closeModal('modal-eliminar')">Si</a></li>
      <li><a (click)="closeModal('modal-eliminar');">No</a></li>
    </ul>
    <a (click)="closeModal('modal-eliminar')" class="cd-popup-close img-replace">Close</a>
  </div>
</div>



<div>
  <div class="sweet-overlay" tabindex="-1" style="opacity: 0; display: none;">
  </div>
  <div class="sweet-alert hideSweetAlert" tabindex="-1" data-has-cancel-button="false" data-allow-ouside-click="false" data-has-done-function="false" style="display: none; margin-top: -176px; opacity: -0.01;">
    <div class="icon error" style="display: block;">
      <span class="x-mark"><span class="line left"></span><span class="line right"></span></span>
    </div>
    <div class="icon warning" style="display: none;">
      <span class="body"></span> <span class="dot"></span>
    </div>
    <div class="icon info" style="display: none;">
    </div>
    <div class="icon success" style="display: none;">
      <span class="line tip"></span> <span class="line long"></span>
      <div class="placeholder">
      </div>
      <div class="fix"></div>
    </div>
    <div class="icon custom" style="display: none;"></div>
    <h2>Cancelled</h2>
    <p style="display: block;">Your imaginary file is safe :)</p>
    <button class="cancel" tabindex="-1" style="display: none; box-shadow: none;">Cancel</button>
    <button class="confirm" tabindex="-1" style="display: none; box-shadow: none;">OK</button>
    <button class="btn w-xs btn-info" tabindex="-1" style="display:none;  box-shadow: none;">Cerrar</button>
  </div>
</div>
