
<div class="col-md-12 border">
  <h4 class="subtitle">Resumen</h4>
  <div class=" cuadros-group">
    <div class="input-group">
      <input type="date" [(ngModel)]="fCompra" name="fCompra" class="form-control active" disabled onblur="checkInput(this)" style="background-color:gainsboro;padding:2px">
      <label for="nombrePV" class="label-produc">
        Fecha de Compra
      </label>
    </div>

    <div class="input-group">
      <input type="date" [(ngModel)]="fEntrega" name="fEntrega" class="form-control active" disabled onblur="checkInput(this)" style="background-color:gainsboro;padding:2px">
      <label for="nombrePV" class="label-produc">
        Fecha de Entrega
      </label>
    </div>

    <div class="input-group">
      <select onblur="checkInput(this)" [(ngModel)]="origenCompra" name="origenCompra" class="form-control active" disabled style="background-color: gainsboro;padding: 4px 36px;">
        <option disabled selected value="0" style="display:none"></option>
        <option value="1">Trujillo</option>
        <option value="2">Talara</option>
      </select>
      <label for="nombrePV" class="label-produc">
        Origen de la Compra
      </label>
    </div>

    <div class="input-group">
      <input type="number" [(ngModel)]="fleteCompra" name="fleteCompra" class="form-control active" disabled onblur="checkInput(this)" style="background: gainsboro;">
      <label for="nombrePV" class="label-produc">
        Costo del Flete ( S/ )
      </label>
    </div>

  </div>
</div>

<div class="border reg-compras-det" style="margin-top: 2rem;padding:0px;font-size:14px">

  <kendo-grid [data]="compradetKendo"
              [pageSize]="pageSize"
              [skip]="skip"
              (pageChange)="pageChange($event)"
              [pageable]="true">
    <kendo-grid-column title="Proveedor" width="120">
      <ng-template kendoGridCellTemplate let-dataItem>
        <p *ngFor="let prov of dataTemProveedor | filter : 'proveedorId' : dataItem.proveedorId ">{{prov.proveedorName}}</p>
      </ng-template>
    </kendo-grid-column>
    <kendo-grid-column title="Producto" width="120">
      <ng-template kendoGridCellTemplate let-dataItem>
        <p *ngFor="let prod of dataTempProducto | filter : 'productId' : dataItem.productId ">{{prod.productName}}</p>
      </ng-template>
    </kendo-grid-column>
    <kendo-grid-column field="cantidadCompra" title="Cantidad" width="90"></kendo-grid-column>
    <kendo-grid-column field="unidadMedida" title="Unidad Medida" width="90"></kendo-grid-column>
    <!--<kendo-grid-column field="pesoCompra" title="Peso" width="60"></kendo-grid-column>-->
    <kendo-grid-column field="precioUnitario" title="Precio Unitario" width="70"></kendo-grid-column>
    <kendo-grid-column field="precioCompra" title="Costo Total" width="70"></kendo-grid-column>
    <kendo-grid-column field="totalDeposito" title="Amortización" width="90"></kendo-grid-column>
    <kendo-grid-column field="saldoDeposito" title="Saldo" width="90"></kendo-grid-column>
    <kendo-grid-column field="documentoCompra" title="Doc. de compra" width="90"></kendo-grid-column>
    <kendo-grid-column field="costoFleteItemCompra" title="Flete unitario" width="90">
      <ng-template kendoGridCellTemplate let-dataItem let-rowIndex="rowIndex">
        {{dataItem.costoFleteItemCompra / dataItem.cantidadCompra}}
      </ng-template>
    </kendo-grid-column>
    <kendo-grid-column title="" width="50">
      <ng-template kendoGridCellTemplate let-dataItem>
        <a (click)="pasaDatos(dataItem.detalleCompraId); openMod('modal-eliminar')"><i class="icon-delete"></i></a>
      </ng-template>
    </kendo-grid-column>
  </kendo-grid>
</div>
<div class="row" style="text-align:center">
  <button style="margin:0 10px" class="btn btn-primary" (click)="backComponent()"> < Regresar</button>
  <button style="margin:0 10px" class="btn btn-success" (click)="openModal('modal-confirmar')">Guardar</button>
</div>

<div class="modal" id="modal-confirmar">
  <div class="cd-popup-container">
    <p>¿Desea confirmar la compra?</p>
    <ul class="cd-buttons">
      <li><a (click)="submitCompra(); closeMod('modal-confirmar')">Si</a></li>
      <li><a (click)="closeMod('modal-confirmar')">No</a></li>
    </ul>
    <a (click)="closeMod('modal-confirmar')" class="cd-popup-close img-replace">Close</a>
  </div>
</div>

<div>
  <div class="sweet-overlay" tabindex="-1" style="opacity: 0; display: none;">
  </div>
  <div class="sweet-alert hideSweetAlert" tabindex="-1" data-has-cancel-button="false" data-allow-ouside-click="false" data-has-done-function="false" style="display: none; margin-top: -176px; opacity: -0.01;">
    <div class="icon error" style="display: block;">
      <span class="x-mark"><span class="line left"></span><span class="line right"></span></span>
    </div>
    <div class="icon warning" style="display: none;">
      <span class="body"></span> <span class="dot"></span>
    </div>
    <div class="icon info" style="display: none;">
    </div>
    <div class="icon success" style="display: none;">
      <span class="line tip"></span> <span class="line long"></span>
      <div class="placeholder">
      </div>
      <div class="fix"></div>
    </div>
    <div class="icon custom" style="display: none;"></div>
    <h2>Cancelled</h2>
    <p style="display: block;">Your imaginary file is safe :)</p>
    <button class="cancel" tabindex="-1" style="display: none; box-shadow: none;">Cancel</button>
    <button class="confirm" tabindex="-1" style="display: none; box-shadow: none;">OK</button>
    <button class="btn w-xs btn-info" tabindex="-1" style="display:none;  box-shadow: none;">Cerrar</button>
  </div>
</div>
